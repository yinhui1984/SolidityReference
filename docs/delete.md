---
key: delete
desc: 重置
---

`delete`关键字表示将值进行重置, 而不是删除



https://docs.soliditylang.org/en/v0.8.17/types.html#delete

delete a将类型的初始值分配给a，即对于整数，它相当于a = 0，但它也可以用在数组上，它分配给一个长度为0的动态数组或一个相同长度的静态数组，所有元素都设置为初始值。 delete a[x] 删除数组中索引为x的项，并保留所有其他元素和数组的长度不动。这特别意味着它在数组中留下一个缺口。如果你打算删除项目，映射可能是一个更好的选择。

对于结构体来说，它分配了一个所有成员都被重置的结构体。换句话说，删除a后，a的值与a在没有赋值的情况下声明的值是一样的，但有以下注意点。

删除对映射没有影响（因为映射的键可能是任意的，通常是未知的）。因此，如果你删除一个结构，它将重置所有不是映射的成员，同时也会递归到这些成员，除非它们是映射。然而，单个键和它们所映射的内容可以被删除。如果a是一个映射，那么delete a[x]将删除存储在x的值。

值得注意的是，删除a的行为就像对a的赋值，也就是说，它在a中存储了一个新的对象，当a是引用变量时，这种区别是明显的。它将只重置a本身，而不是它之前引用的值。